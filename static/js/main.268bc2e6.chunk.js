(this["webpackJsonpquora-clone"]=this["webpackJsonpquora-clone"]||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(17),r=n.n(s),o=(n(110),n(111),n(112),n(170)),i=n(167),u=n(171),l=n(87),j=n.n(l),d=n(88),b=n.n(d),m=n(178),h=n(74),O=n(18),x=n(162),p=n(166),f=n(177),g=n(131),v=n(165),C=n(180),w=n(179),k=n(85),N=n.n(k),y=n(69);n(117);y.a.initializeApp({apiKey:"AIzaSyC7xU6nUNUuEYDX6-jhMdzM7_w5ySFRCKk",authDomain:"quora-clone-cf804.firebaseapp.com",projectId:"quora-clone-cf804",storageBucket:"quora-clone-cf804.appspot.com",messagingSenderId:"398270854351",appId:"1:398270854351:web:767c9df001110e9aa233ba",measurementId:"G-NSY9TNFPZ6"});var S=y.a.auth(),A=y.a.firestore(),q=S,I=n(4),E=Object(c.createContext)({}),U=function(e){var t=e.children,n=Object(c.useState)(!1),a=Object(O.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(""),i=Object(O.a)(o,2),u=i[0],l=i[1],j=Object(c.useState)(!1),d=Object(O.a)(j,2),b=d[0],m=d[1],h=Object(c.useState)([]),x=Object(O.a)(h,2),p=x[0],f=x[1],g=Object(c.useState)(""),v=Object(O.a)(g,2),C=v[0],w=v[1],k=Object(c.useState)(""),N=Object(O.a)(k,2),y=N[0],S=N[1],A=Object(c.useState)(""),q=Object(O.a)(A,2),U=q[0],B=q[1],P=Object(c.useState)(""),Q=Object(O.a)(P,2),D=Q[0],F=Q[1],L=Object(c.useState)(""),W=Object(O.a)(L,2),M=W[0],R=W[1];return Object(I.jsx)(E.Provider,{value:{loggedIn:s,setloggedIn:r,username:D,setusername:F,password:M,setpassword:R,currentUser:b,setcurrentUser:m,questionsArray:p,setquestionsArray:f,firstLetter:C,setfirstLetter:w,askedQuestion:u,setaskedQuestion:l,occupation:y,setoccupation:S,messageResponce:U,setmessageResponce:B},children:t})},B=E;function P(){var e=c.useState(!1),t=Object(O.a)(e,2),n=t[0],a=t[1],s=c.useRef(null),r=Object(c.useContext)(B),o=r.loggedIn,i=r.setloggedIn,u=Object(c.useContext)(B),l=u.currentUser,j=u.setcurrentUser,d=function(e){s.current&&s.current.contains(e.target)||(o||i(!0),a(!1))},b=c.useRef(n);c.useEffect((function(){!0===b.current&&!1===n&&s.current.focus(),b.current=n}),[n]);var m=function(){q.signOut().then((function(){return console.log("Signed Out"),j(!1)}),(function(e){console.error("Sign Out Error",e)}))};return Object(I.jsx)("div",{children:Object(I.jsxs)("div",{children:[Object(I.jsx)(x.a,{ref:s,id:"composition-button","aria-controls":n?"composition-menu":void 0,"aria-expanded":n?"true":void 0,"aria-haspopup":"true",onClick:function(){console.log("currentUser ".concat(l)),a((function(e){return!e}))},children:Object(I.jsx)(N.a,{fontSize:"large"})}),Object(I.jsx)(v.a,{open:n,anchorEl:s.current,role:void 0,placement:"bottom-start",transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,c=e.placement;return Object(I.jsx)(f.a,Object(h.a)(Object(h.a)({},t),{},{style:{transformOrigin:"bottom-start"===c?"left top":"left bottom"},children:Object(I.jsx)(g.a,{children:Object(I.jsx)(p.a,{onClickAway:d,children:Object(I.jsx)(w.a,{autoFocusItem:n,id:"composition-menu","aria-labelledby":"composition-button",children:l?Object(I.jsx)(C.a,{onClick:m,children:"Sign Out"}):Object(I.jsx)(C.a,{onClick:d,children:"Sign In"})})})})}))}})]})})}var Q=n(89),D=n.n(Q),F=(n(80),n(168)),L=n(169),W=n(174),M=function(){var e=Object(c.useContext)(B),t=e.password,n=e.setpassword,a=Object(c.useContext)(B),s=a.username,r=a.setusername,o=Object(c.useContext)(B),u=o.occupation,l=o.setoccupation,j=Object(c.useContext)(B).setfirstLetter,d=Object(c.useContext)(B).setloggedIn,b=Object(c.useContext)(B).setcurrentUser,m=function(e){e.preventDefault(),n(""),r("")},h=function(e,t){return A.collection("occupations").doc(e).set({job:t})};return Object(I.jsxs)("div",{className:"logInBox",children:[Object(I.jsx)(i.a,{children:Object(I.jsx)(F.a,{container:!0,justifyContent:"center",wrap:"wrap",children:Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(L.a,{variant:"h6"})})})}),Object(I.jsx)(F.a,{container:!0,spacing:0,justifyContent:"center",direction:"row",children:Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(F.a,{container:!0,direction:"column",justifyContent:"center",spacing:2,className:"login-form",children:Object(I.jsxs)(g.a,{variant:"elevation",elevation:2,className:"login-background",children:[Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(L.a,{component:"h1",variant:"h5",children:"Create an account"})}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)("form",{onSubmit:m,children:Object(I.jsxs)(F.a,{container:!0,direction:"column",spacing:2,children:[Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(W.a,{type:"email",placeholder:"Email",fullWidth:!0,name:"username",variant:"outlined",onChange:function(e){return r(e.target.value.toLowerCase())},required:!0,autoFocus:!0})}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(W.a,{type:"password",placeholder:"Password",fullWidth:!0,name:"password",variant:"outlined",onChange:function(e){return n(e.target.value)},required:!0})}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(W.a,{type:"text",placeholder:"Occupation/Education",fullWidth:!0,name:"occupation",variant:"outlined",onChange:function(e){return l(e.target.value)},required:!0,autoFocus:!0})}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",className:"button-block",onClick:function(){!function(e,t){console.log(e),q.signInWithEmailAndPassword(e,t).then((function(){j(e.substring(0,1))})).catch((function(n){return console.log(n),q.createUserWithEmailAndPassword(e.toLowerCase(),t).then((function(){console.log(e),j(e.substring(0,1))})).catch((function(e){switch(e.code){case"auth/email-already-in-use":alert("Email address already in use.");break;case"auth/invalid-email":alert("Email address  is invalid.");break;case"auth/operation-not-allowed":alert("Error during sign up.");break;case"auth/weak-password":alert("Password is not strong enough. Add additional characters including special characters and numbers.");break;default:alert(e.message)}})),q.onAuthStateChanged((function(t){d(!1),b(t),h(e,u)}))})),q.onAuthStateChanged((function(t){d(!1),b(t),h(e,u)}))}(s,t)},children:"Create"})})]})})}),Object(I.jsxs)(F.a,{item:!0,children:[Object(I.jsx)("div",{className:"bar"}),Object(I.jsx)(L.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)("form",{onSubmit:m,children:Object(I.jsxs)(F.a,{container:!0,direction:"column",spacing:2,children:[Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(W.a,{type:"email",placeholder:"Email",fullWidth:!0,name:"username",variant:"outlined",onChange:function(e){return r(e.target.value)},required:!0,autoFocus:!0})}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(W.a,{type:"password",placeholder:"Password",fullWidth:!0,name:"password",variant:"outlined",onChange:function(e){return n(e.target.value)},required:!0})}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",className:"button-block",onClick:function(){!function(e,t){q.signInWithEmailAndPassword(e,t).then((function(){j(e.substring(0,1))})).catch((function(e){alert(e.message)})),q.onAuthStateChanged((function(e){b(e),d(!1)}))}(s,t)},children:"Sign In"})})]})})}),Object(I.jsx)(x.a,{variant:"contained",color:"orange",type:"submit",className:"button-block",onClick:function(){for(var e,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",c=0;c<10;c++)n+=t.charAt(Math.floor(Math.random()*t.length));return"password12345",e=(e="".concat(n,"@website.com")).toLowerCase(),q.createUserWithEmailAndPassword(e,"password12345").then((function(){j(e.substring(0,1))})).catch((function(e){})),q.onAuthStateChanged((function(t){d(!1),b(t),h(e,"Demo Account")}))},children:"Use Demo Account"})]})]})})})})]})},R=n(28),z=n.n(R),T=n(44),J=n(33),K=function(){var e=Object(c.useContext)(B),t=e.askedQuestion,n=e.setaskedQuestion,a=Object(c.useContext)(B).setmessageResponce,s=Object(c.useContext)(B).currentUser,r=function(){var e=Object(T.a)(z.a.mark((function e(){var c,r,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.uid,r=A.collection("questions").doc(c),e.next=4,r.get();case 4:return e.sent&&(o=Math.floor(100*Math.random()),c+=o),n(!1),a("Question Submitted"),e.abrupt("return",A.collection("questions").doc(c).set({name:"",description:"",question:t,comments:[],voteList:[],downvotes:0,upvotes:0}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:"logInBox",children:[Object(I.jsx)(i.a,{children:Object(I.jsx)(F.a,{container:!0,justifyContent:"center",wrap:"wrap",children:Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(L.a,{variant:"h6"})})})}),Object(I.jsx)(F.a,{container:!0,spacing:0,justifyContent:"center",direction:"row",children:Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(F.a,{container:!0,direction:"column",justifyContent:"center",spacing:2,className:"login-form",children:Object(I.jsxs)(g.a,{variant:"elevation",elevation:2,className:"login-background",children:[Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(L.a,{component:"h1",variant:"h5",children:"Enter Question"})}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsxs)(F.a,{container:!0,direction:"column",spacing:2,children:[Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(W.a,{fullWidth:!0,name:"askedQuestion",variant:"outlined",onChange:function(e){return n(e.target.value)},required:!0,autoFocus:!0})}),Object(I.jsx)(F.a,{item:!0}),Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(J.b,{to:"/profile-page",style:{color:"inherit",textDecoration:"inherit"},children:Object(I.jsx)(x.a,{type:"submit",className:"buttonSubmit",onClick:r,children:"Submit"})})})]})})]})})})})]})},Y=function(){var e=Object(c.useContext)(B).loggedIn,t=Object(c.useContext)(B),n=t.askedQuestion,a=t.setaskedQuestion,s=Object(c.useContext)(B),r=s.currentUser,l=s.setcurrentUser;return Object(c.useEffect)((function(){q.onAuthStateChanged((function(e){e?l(e):console.log("No current User")}))})),Object(I.jsxs)("div",{className:"header",children:[e?Object(I.jsx)(M,{}):"",n?Object(I.jsx)(K,{}):"",Object(I.jsx)(o.a,{position:"static",children:Object(I.jsxs)(i.a,{className:"appBar",children:[Object(I.jsx)("p",{variant:"title",children:"Quora"}),Object(I.jsx)(J.b,{to:"/",children:Object(I.jsx)(u.a,{className:"toggle","aria-label":"Menu",children:Object(I.jsx)(j.a,{fontSize:"large"})})}),Object(I.jsx)(u.a,{className:"toggle","aria-label":"Menu",children:Object(I.jsx)(b.a,{fontSize:"large"})}),Object(I.jsx)(D.a,{className:"searchIcon"}),Object(I.jsx)(m.a,{placeholder:"Search Quora",className:"inputBase",fontSize:"large"}),Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"buttonHolder",children:[Object(I.jsx)(P,{}),Object(I.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",className:"button-block",onClick:function(){return r&&!e?a(!0):alert("Please create an account to ask questions.")},children:"Ask a Question"})]})})]})})]})},G=(n(124),n(125),n(181)),H=n(172),V=function(e){var t=e.item;return Object(I.jsxs)("div",{style:{padding:14},className:"App",children:[Object(I.jsx)("h1",{children:"Comments"}),Object(I.jsxs)(g.a,{style:{padding:"40px 20px"},children:[Object(I.jsxs)(F.a,{children:[Object(I.jsx)(F.a,{item:!0,children:Object(I.jsx)(G.a,{alt:"Remy Sharp"})}),Object(I.jsxs)(F.a,{children:[Object(I.jsx)("h4",{style:{margin:0,textAlign:"left"},children:t.name}),Object(I.jsxs)("p",{style:{textAlign:"left"},children:[t.comment," "]})]})]}),Object(I.jsx)(H.a,{variant:"fullWidth",style:{margin:"30px 0"}})]})]})},X=n(173),Z=n(176),_=n(68),$=n(90),ee=n.n($),te=n(91),ne=n.n(te),ce=n(92),ae=n.n(ce),se=function(e){var t=e.item,n=Object(c.useState)("commentBase"),a=Object(O.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)("endBox"),i=Object(O.a)(o,2),u=i[0],l=i[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),b=d[0],h=d[1],x=Object(c.useState)(t[1].upvotes),p=Object(O.a)(x,2),f=p[0],g=p[1],v=Object(c.useState)(t[1].downvotes),C=Object(O.a)(v,2),w=C[0],k=C[1],N=Object(c.useState)(t[1].comments),y=Object(O.a)(N,1)[0],S=Object(c.useState)(""),q=Object(O.a)(S,2),E=q[0],U=q[1],P=Object(c.useContext)(B).occupation,Q=Object(c.useContext)(B).setmessageResponce,D=Object(c.useContext)(B).currentUser,F=t[1],L=function(){var e=Object(T.a)(z.a.mark((function e(n){var c,a,s,r,o,i,u,l,j,d;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return",alert("Please create an account to vote"));case 2:return c=D.uid,e.next=5,A.collection("questions").doc(t[0]);case 5:return a=e.sent,e.next=8,a.get();case 8:s=e.sent,r=s.data().voteList,o=0;case 11:if(!(o<r.length)){e.next=17;break}if(r[o]!==c){e.next=14;break}return e.abrupt("return",null);case 14:o++,e.next=11;break;case 17:if((i=r).push(c),a.update({voteList:i}),"up"!==n){e.next=25;break}return u=s.data().upvotes,l=u+=1,a.update({upvotes:l}),e.abrupt("return",g(l));case 25:j=s.data().downvotes,d=j+=1,a.update({downvotes:d}),k(d);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(T.a)(z.a.mark((function e(){var n,c,a,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q("Question Answerd"),""!==E){e.next=4;break}return console.log("no"),e.abrupt("return",null);case 4:return n=A.collection("occupations").doc(D.email),e.next=7,n.get();case 7:return c=e.sent,console.log(c),c.exists?(a=c.data().job,console.log("Document data:",c.data())):(a=c.job,console.log("No such document!")),s=D.email.substr(0,D.email.indexOf("@")),console.log(s,a,E),e.abrupt("return",A.collection("questions").doc(t[0]).update({name:s,description:a,answer:E}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{className:"main",children:Object(I.jsxs)(X.a,{style:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},className:"container",children:[Object(I.jsxs)(Z.a,{sx:{backgroundColor:_.a},className:"box",children:[F.name?Object(I.jsxs)("div",{className:"name",children:[Object(I.jsx)("div",{className:"userImage",children:Object(I.jsx)("p",{children:F.name.substring(0,1).toUpperCase()})}),Object(I.jsxs)("div",{className:"userInfo",children:[Object(I.jsx)("p",{className:"userName",children:F.name}),Object(I.jsx)("p",{className:"userTitle",children:F.description})]})]}):"",Object(I.jsx)("div",{className:"question",children:F.question}),Object(I.jsx)("div",{className:"bar"}),Object(I.jsx)("div",{className:"answer",children:F.answer?F.answer:Object(I.jsxs)("div",{children:[Object(I.jsx)(W.a,{name:E,onChange:function(e){return U(e.target.value)},id:"standard-multiline-static",multiline:!0,rows:4,defaultValue:"Answer...",variant:"standard"}),Object(I.jsx)(J.b,{to:"/profile-page",style:{color:"inherit",textDecoration:"inherit"},children:Object(I.jsx)("button",{className:"addAnswer",onClick:M,children:"Answer Question"})})]})}),Object(I.jsxs)("div",{className:"replies",children:[Object(I.jsxs)("div",{className:"arrows",children:[Object(I.jsxs)("div",{className:"arrowBox",children:[Object(I.jsx)(ee.a,{onClick:function(){L("up")}}),f]}),Object(I.jsxs)("div",{className:"arrowBox",children:[Object(I.jsx)(ne.a,{onClick:L}),w]})]}),Object(I.jsx)(ae.a,{className:"commentIcon",onClick:function(){return console.log(P),l("endBox"===u?"box":"endBox")}})]})]}),Object(I.jsxs)(Z.a,{sx:{backgroundColor:_.a},className:u,children:[Object(I.jsxs)("div",{className:"addComment",children:[Object(I.jsx)(m.a,{placeholder:"Add a Comment...",className:s,fontSize:"large",onChange:function(e){return h(e.target.value)},onClick:function(){return r("commentBaseBigger")}}),Object(I.jsx)(J.b,{to:"/profile-page",style:{color:"inherit",textDecoration:"inherit"},children:Object(I.jsx)("button",{onClick:function(){Q("Comment Added");var e={name:D.email,comment:b},n=t[1].comments;n.push(e),A.collection("questions").doc(t[0]).update({comments:n})},className:"commentButton",children:"Add Comment"})})]}),y?y.map((function(e,t){return Object(I.jsx)(V,{item:e},t)})):Object(I.jsx)("p",{children:"Users is empty"})]})]})})},re=function(){var e=Object(c.useContext)(B),t=e.questionsArray,n=e.setquestionsArray;return Object(c.useEffect)((function(){function e(){return(e=Object(T.a)(z.a.mark((function e(){var t,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],c=A.collection("questions"),e.next=5,c.get();case 5:return(c=e.sent).forEach((function(e){var n=[e.id,e.data()];t.push(n)})),e.abrupt("return",n(t));case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(I.jsx)("div",{className:"main",children:t.map((function(e,t){return Object(I.jsx)(se,{item:e},t)}))})},oe=(n(126),function(){var e=Object(c.useContext)(B).messageResponce;return Object(I.jsx)("div",{className:"top",children:Object(I.jsx)("div",{className:"message",children:e})})}),ie=n(11);var ue=function(){return Object(I.jsx)(J.a,{basename:"/Quora-clone",children:Object(I.jsx)("div",{className:"App",children:Object(I.jsxs)(U,{children:[Object(I.jsx)(Y,{}),Object(I.jsxs)(ie.c,{children:[Object(I.jsx)(ie.a,{exact:!0,path:"/",element:Object(I.jsx)(re,{})}),Object(I.jsx)(ie.a,{exact:!0,path:"/profile-page",element:Object(I.jsx)(oe,{})})]})]})})})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,183)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(ue,{})}),document.getElementById("root")),le()},80:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.268bc2e6.chunk.js.map