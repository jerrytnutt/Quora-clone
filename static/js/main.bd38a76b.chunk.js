(this["webpackJsonpquora-clone"]=this["webpackJsonpquora-clone"]||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(17),r=n.n(s),i=(n(111),n(112),n(113),n(169)),o=n(166),u=n(170),l=n(88),j=n.n(l),d=n(89),b=n.n(d),h=n(177),m=n(74),O=n(18),x=n(161),p=n(165),f=n(176),g=n(130),v=n(164),C=n(179),w=n(178),k=n(49),y=n(86),N=n.n(y),S=n(69);n(118);S.a.initializeApp({apiKey:"AIzaSyC7xU6nUNUuEYDX6-jhMdzM7_w5ySFRCKk",authDomain:"quora-clone-cf804.firebaseapp.com",projectId:"quora-clone-cf804",storageBucket:"quora-clone-cf804.appspot.com",messagingSenderId:"398270854351",appId:"1:398270854351:web:767c9df001110e9aa233ba",measurementId:"G-NSY9TNFPZ6"});var A=S.a.auth(),q=S.a.firestore(),I=A,E=n(4),U=Object(c.createContext)({}),P=function(e){var t=e.children,n=Object(c.useState)(!1),a=Object(O.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(""),o=Object(O.a)(i,2),u=o[0],l=o[1],j=Object(c.useState)(!1),d=Object(O.a)(j,2),b=d[0],h=d[1],m=Object(c.useState)([]),x=Object(O.a)(m,2),p=x[0],f=x[1],g=Object(c.useState)(""),v=Object(O.a)(g,2),C=v[0],w=v[1],k=Object(c.useState)(""),y=Object(O.a)(k,2),N=y[0],S=y[1],A=Object(c.useState)(""),q=Object(O.a)(A,2),I=q[0],P=q[1],B=Object(c.useState)(""),Q=Object(O.a)(B,2),F=Q[0],W=Q[1];return Object(E.jsx)(U.Provider,{value:{loggedIn:s,setloggedIn:r,username:I,setusername:P,password:F,setpassword:W,currentUser:b,setcurrentUser:h,questionsArray:p,setquestionsArray:f,firstLetter:C,setfirstLetter:w,askedQuestion:u,setaskedQuestion:l,occupation:N,setoccupation:S},children:t})},B=U;function Q(){var e=c.useState(!1),t=Object(O.a)(e,2),n=t[0],a=t[1],s=c.useRef(null),r=Object(c.useContext)(B),i=r.loggedIn,o=r.setloggedIn,u=Object(c.useContext)(B),l=u.currentUser,j=u.setcurrentUser,d=function(e){!s.current||s.current.contains(e.target)},b=function(e){s.current&&s.current.contains(e.target)||(i||o(!0),a(!1))};function h(e){"Tab"===e.key?(e.preventDefault(),a(!1)):"Escape"===e.key&&a(!1)}var y=c.useRef(n);c.useEffect((function(){!0===y.current&&!1===n&&s.current.focus(),y.current=n}),[n]);var S=function(){I.signOut().then((function(){return console.log("Signed Out"),j(!1)}),(function(e){console.error("Sign Out Error",e)}))};return Object(E.jsx)("div",{children:Object(E.jsxs)("div",{children:[Object(E.jsx)(x.a,{ref:s,id:"composition-button","aria-controls":n?"composition-menu":void 0,"aria-expanded":n?"true":void 0,"aria-haspopup":"true",onClick:function(){console.log("currentUser ".concat(l)),a((function(e){return!e}))},children:Object(E.jsx)(N.a,{fontSize:"large"})}),Object(E.jsx)(v.a,{open:n,anchorEl:s.current,role:void 0,placement:"bottom-start",transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,c=e.placement;return Object(E.jsx)(f.a,Object(m.a)(Object(m.a)({},t),{},{style:{transformOrigin:"bottom-start"===c?"left top":"left bottom"},children:Object(E.jsx)(g.a,{children:Object(E.jsx)(p.a,{onClickAway:b,children:Object(E.jsxs)(w.a,{autoFocusItem:n,id:"composition-menu","aria-labelledby":"composition-button",onKeyDown:h,children:[l?Object(E.jsx)(k.b,{to:"/profile-page",style:{textDecoration:"none",color:"black"},children:Object(E.jsx)(C.a,{onClick:d,children:"Profile"})}):Object(E.jsx)(C.a,{onClick:b,children:"Create Profile"}),l?Object(E.jsx)(C.a,{onClick:S,children:"Sign Out"}):Object(E.jsx)(C.a,{onClick:b,children:"Sign In"})]})})})}))}})]})})}var F=n(90),W=n.n(F),D=(n(80),n(167)),M=n(168),z=n(173),L=function(){var e=Object(c.useContext)(B),t=e.password,n=e.setpassword,a=Object(c.useContext)(B),s=a.username,r=a.setusername,i=Object(c.useContext)(B),u=i.occupation,l=i.setoccupation,j=Object(c.useContext)(B).setfirstLetter,d=Object(c.useContext)(B).setloggedIn,b=Object(c.useContext)(B).setcurrentUser,h=function(e){e.preventDefault(),n(""),r(""),l("")};return Object(E.jsxs)("div",{className:"logInBox",children:[Object(E.jsx)(o.a,{children:Object(E.jsx)(D.a,{container:!0,justifyContent:"center",wrap:"wrap",children:Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(M.a,{variant:"h6"})})})}),Object(E.jsx)(D.a,{container:!0,spacing:0,justifyContent:"center",direction:"row",children:Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(D.a,{container:!0,direction:"column",justifyContent:"center",spacing:2,className:"login-form",children:Object(E.jsxs)(g.a,{variant:"elevation",elevation:2,className:"login-background",children:[Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(M.a,{component:"h1",variant:"h5",children:"Create an account"})}),Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)("form",{onSubmit:h,children:Object(E.jsxs)(D.a,{container:!0,direction:"column",spacing:2,children:[Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(z.a,{type:"email",placeholder:"Email",fullWidth:!0,name:"username",variant:"outlined",onChange:function(e){return r(e.target.value)},required:!0,autoFocus:!0})}),Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(z.a,{type:"password",placeholder:"Password",fullWidth:!0,name:"password",variant:"outlined",onChange:function(e){return n(e.target.value)},required:!0})}),Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(z.a,{type:"text",placeholder:"Occupation/Education",fullWidth:!0,name:"username",variant:"outlined",onChange:function(e){return l(e.target.value)},required:!0,autoFocus:!0})}),Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",className:"button-block",onClick:function(){!function(e,t){I.signInWithEmailAndPassword(e,t).then((function(){j(e.substring(0,1))})).catch((function(n){return console.log(n),I.createUserWithEmailAndPassword(e,t).then((function(){j(e.substring(0,1))})).catch((function(e){switch(e.code){case"auth/email-already-in-use":alert("Email address already in use.");break;case"auth/invalid-email":alert("Email address  is invalid.");break;case"auth/operation-not-allowed":alert("Error during sign up.");break;case"auth/weak-password":alert("Password is not strong enough. Add additional characters including special characters and numbers.");break;default:alert(e.message)}})),I.onAuthStateChanged((function(e){d(!1),b(e),l(u)}))})),I.onAuthStateChanged((function(e){d(!1),b(e),l(u)}))}(s,t)},children:"Create"})})]})})}),Object(E.jsxs)(D.a,{item:!0,children:[Object(E.jsx)("div",{className:"bar"}),Object(E.jsx)(M.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)("form",{onSubmit:h,children:Object(E.jsxs)(D.a,{container:!0,direction:"column",spacing:2,children:[Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(z.a,{type:"email",placeholder:"Email",fullWidth:!0,name:"username",variant:"outlined",onChange:function(e){return r(e.target.value)},required:!0,autoFocus:!0})}),Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(z.a,{type:"password",placeholder:"Password",fullWidth:!0,name:"password",variant:"outlined",onChange:function(e){return n(e.target.value)},required:!0})}),Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",className:"button-block",onClick:function(){!function(e,t){I.signInWithEmailAndPassword(e,t).then((function(t){j(e.substring(0,1))})).catch((function(e){alert(e.message)})),I.onAuthStateChanged((function(e){b(e),d(!1)}))}(s,t)},children:"Sign In"})})]})})}),Object(E.jsx)(x.a,{variant:"contained",color:"orange",type:"submit",className:"button-block",onClick:function(){for(var e,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",c=0;c<10;c++)n+=t.charAt(Math.floor(Math.random()*t.length));return e="".concat(n,"@website.com"),"password12345",I.createUserWithEmailAndPassword(e,"password12345").then((function(){j(e.substring(0,1))})).catch((function(e){})),I.onAuthStateChanged((function(e){d(!1),l("Demo Account"),b(e)}))},children:"Use Demo Account"})]})]})})})})]})},T=n(28),R=n.n(T),K=n(43),J=function(){var e=Object(c.useContext)(B),t=e.askedQuestion,n=e.setaskedQuestion,a=Object(c.useContext)(B).occupation,s=Object(c.useContext)(B).currentUser;console.log(t);var r=function(){var e=Object(K.a)(R.a.mark((function e(){var c,r,i,o,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.email.substr(0,s.email.indexOf("@")),r=s.uid,i=q.collection("questions").doc(r),e.next=5,i.get();case 5:return o=e.sent,console.log(o),0,o&&(u=Math.floor(100*Math.random()),r+=u),n(!1),e.abrupt("return",q.collection("questions").doc(r).set({name:c,description:a,question:t,comments:[],voteList:[],downvotes:0,upvotes:0}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"logInBox",children:[Object(E.jsx)(o.a,{children:Object(E.jsx)(D.a,{container:!0,justifyContent:"center",wrap:"wrap",children:Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(M.a,{variant:"h6"})})})}),Object(E.jsx)(D.a,{container:!0,spacing:0,justifyContent:"center",direction:"row",children:Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(D.a,{container:!0,direction:"column",justifyContent:"center",spacing:2,className:"login-form",children:Object(E.jsxs)(g.a,{variant:"elevation",elevation:2,className:"login-background",children:[Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(M.a,{component:"h1",variant:"h5",children:"Enter Question"})}),Object(E.jsx)(D.a,{item:!0,children:Object(E.jsxs)(D.a,{container:!0,direction:"column",spacing:2,children:[Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(z.a,{fullWidth:!0,name:"askedQuestion",variant:"outlined",onChange:function(e){return n(e.target.value)},required:!0,autoFocus:!0})}),Object(E.jsx)(D.a,{item:!0}),Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",className:"button-block",onClick:r,children:"Submit"})})]})})]})})})})]})},Y=function(){var e=Object(c.useContext)(B).loggedIn,t=Object(c.useContext)(B),n=t.askedQuestion,a=t.setaskedQuestion,s=Object(c.useContext)(B),r=s.currentUser,l=s.setcurrentUser;return Object(c.useEffect)((function(){I.onAuthStateChanged((function(e){e?l(e):console.log("No current User")}))})),Object(E.jsxs)("div",{className:"header",children:[e?Object(E.jsx)(L,{}):"",n?Object(E.jsx)(J,{}):"",Object(E.jsx)(i.a,{position:"static",children:Object(E.jsxs)(o.a,{className:"appBar",children:[Object(E.jsx)("p",{variant:"title",children:"Quora"}),Object(E.jsx)(k.b,{to:"/",children:Object(E.jsx)(u.a,{className:"toggle","aria-label":"Menu",children:Object(E.jsx)(j.a,{fontSize:"large"})})}),Object(E.jsx)(u.a,{className:"toggle","aria-label":"Menu",children:Object(E.jsx)(b.a,{fontSize:"large"})}),Object(E.jsx)(W.a,{className:"searchIcon"}),Object(E.jsx)(h.a,{placeholder:"Search Quora",className:"inputBase",fontSize:"large"}),Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"buttonHolder",children:[Object(E.jsx)(Q,{}),Object(E.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",className:"button-block",onClick:function(){if(r&&!e)return a(!0)},children:"Ask a Question"})]})})]})})]})},G=(n(81),n(125),n(180)),H=n(171),V=function(e){var t=e.item;return Object(E.jsxs)("div",{style:{padding:14},className:"App",children:[Object(E.jsx)("h1",{children:"Comments"}),Object(E.jsxs)(g.a,{style:{padding:"40px 20px"},children:[Object(E.jsxs)(D.a,{children:[Object(E.jsx)(D.a,{item:!0,children:Object(E.jsx)(G.a,{alt:"Remy Sharp"})}),Object(E.jsxs)(D.a,{children:[Object(E.jsx)("h4",{style:{margin:0,textAlign:"left"},children:t.name}),Object(E.jsxs)("p",{style:{textAlign:"left"},children:[t.comment," "]}),Object(E.jsx)("p",{style:{textAlign:"left",color:"gray"},children:"posted 1 minute ago"})]})]}),Object(E.jsx)(H.a,{variant:"fullWidth",style:{margin:"30px 0"}})]})]})},X=n(172),Z=n(175),_=n(68),$=n(91),ee=n.n($),te=n(92),ne=n.n(te),ce=n(93),ae=n.n(ce),se=function(e){var t=e.item,n=Object(c.useState)("commentBase"),a=Object(O.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)("endBox"),o=Object(O.a)(i,2),u=o[0],l=o[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),b=d[0],m=d[1],x=Object(c.useState)(t[1].upvotes),p=Object(O.a)(x,2),f=p[0],g=p[1],v=Object(c.useState)(t[1].downvotes),C=Object(O.a)(v,2),w=C[0],k=C[1],y=Object(c.useState)(t[1].comments),N=Object(O.a)(y,1)[0],S=Object(c.useState)(""),A=Object(O.a)(S,2),I=A[0],U=A[1],P=Object(c.useContext)(B).currentUser,Q=t[1],F=function(){var e=Object(K.a)(R.a.mark((function e(n){var c,a,s,r,i,o,u,l,j,d;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return",alert("Please create an account to vote"));case 2:return c=P.uid,e.next=5,q.collection("questions").doc(t[0]);case 5:return a=e.sent,e.next=8,a.get();case 8:s=e.sent,r=s.data().voteList,i=0;case 11:if(!(i<r.length)){e.next=17;break}if(r[i]!==c){e.next=14;break}return e.abrupt("return",null);case 14:i++,e.next=11;break;case 17:if((o=r).push(c),a.update({voteList:o}),"up"!==n){e.next=25;break}return u=s.data().upvotes,l=u+=1,a.update({upvotes:l}),e.abrupt("return",g(l));case 25:j=s.data().downvotes,d=j+=1,a.update({downvotes:d}),k(d);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(K.a)(R.a.mark((function e(){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t[0]),n=q.collection("questions").doc(t[0]),e.next=4,n.get();case 4:return e.sent,e.abrupt("return",q.collection("questions").doc(t[0]).update({answer:I}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"main",children:Object(E.jsxs)(X.a,{style:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},className:"container",children:[Object(E.jsxs)(Z.a,{sx:{backgroundColor:_.a},className:"box",children:[Object(E.jsxs)("div",{className:"name",children:[Object(E.jsx)("div",{className:"userImage",children:Object(E.jsx)("p",{children:Q.name.substring(0,1).toUpperCase()})}),Object(E.jsxs)("div",{className:"userInfo",children:[Object(E.jsx)("p",{className:"userName",children:Q.name}),Object(E.jsx)("p",{className:"userTitle",children:Q.description})]})]}),Object(E.jsx)("div",{className:"question",children:Q.question}),Object(E.jsx)("div",{className:"bar"}),Object(E.jsx)("div",{className:"answer",children:Q.answer?Q.answer:Object(E.jsxs)("div",{children:[Object(E.jsx)(z.a,{name:I,onChange:function(e){return U(e.target.value)},id:"standard-multiline-static",multiline:!0,rows:4,defaultValue:"Answer...",variant:"standard"}),Object(E.jsx)("button",{className:"addAnswer",onClick:W,children:"Answer Question"})]})}),Object(E.jsxs)("div",{className:"replies",children:[Object(E.jsxs)("div",{className:"arrows",children:[Object(E.jsxs)("div",{className:"arrowBox",children:[Object(E.jsx)(ee.a,{onClick:function(){F("up")}}),f]}),Object(E.jsxs)("div",{className:"arrowBox",children:[Object(E.jsx)(ne.a,{onClick:F}),w]})]}),Object(E.jsx)(ae.a,{onClick:function(){return console.log(6),l("box")}})]})]}),Object(E.jsxs)(Z.a,{sx:{backgroundColor:_.a},className:u,children:[Object(E.jsxs)("div",{className:"addComment",children:[Object(E.jsx)("div",{className:"userImage"}),Object(E.jsx)(h.a,{placeholder:"Add a Comment...",className:s,fontSize:"large",onChange:function(e){return m(e.target.value)},onClick:function(){return console.log(s),r("commentBaseBigger")}}),Object(E.jsx)("button",{onClick:function(){console.log(P.email);var e={name:P.email,comment:b},n=t[1].comments;n.push(e),q.collection("questions").doc(t[0]).update({comments:n})},className:"commentButton",children:"Add Comment"})]}),N?N.map((function(e,t){return Object(E.jsx)(V,{item:e},t)})):Object(E.jsx)("p",{children:"Users is empty"})]})]})})},re=function(){var e=Object(c.useContext)(B),t=e.questionsArray,n=e.setquestionsArray;return Object(c.useEffect)((function(){function e(){return(e=Object(K.a)(R.a.mark((function e(){var t,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],c=q.collection("questions"),e.next=5,c.get();case 5:return(c=e.sent).forEach((function(e){var n=[e.id,e.data()];t.push(n)})),e.abrupt("return",n(t));case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n]),Object(E.jsx)("div",{className:"main",children:t.map((function(e,t){return Object(E.jsx)(se,{item:e},t)}))})},ie=function(){return Object(E.jsx)("div",{children:"hey"})},oe=n(11);var ue=function(){return Object(E.jsx)(k.a,{children:Object(E.jsx)("div",{className:"App",children:Object(E.jsxs)(P,{children:[Object(E.jsx)(Y,{}),Object(E.jsxs)(oe.c,{children:[Object(E.jsx)(oe.a,{exact:!0,path:"/",element:Object(E.jsx)(re,{})}),Object(E.jsx)(oe.a,{exact:!0,path:"/profile-page",element:Object(E.jsx)(ie,{})})]})]})})})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,182)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(ue,{})}),document.getElementById("root")),le()},80:function(e,t,n){},81:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.bd38a76b.chunk.js.map